# Top level playbook to configure macOS for software development

---
- hosts: all

  pre_tasks:

  #
  ## macOS customisations
  #
  - name: Enable 'Tap to click' trackpad preference
    osx_defaults:
      domain: com.apple.AppleMultitouchTrackpad
      key: Clicking
      type: boolean
      value: 1
      state: present

  - name: Enable 'Tap to click' trackpad driver preferences
    osx_defaults:
      domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
      key: Clicking
      type: boolean
      value: 1
      state: present

  - name: Enable 'Tap to click' in Trackpad preferences panel
    osx_defaults:
      host: currentHost
      key: com.apple.mouse.tapBehavior
      type: integer
      value: 1
      state: present

  - name: Enable 'Secondary click' trackpad preferences
    osx_defaults:
      domain: com.apple.AppleMultitouchTrackpad
      key: TrackpadRightClick
      type: boolean
      value: 1
      state: present

  - name: Enable 'Secondary click' trackpad driver preferences
    osx_defaults:
      domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
      key: TrackpadRightClick
      type: boolean
      value: 1
      state: present

  - name: Enable 'Secondary click' in Trackpad preference panel
    osx_defaults:
      host: currentHost
      key: com.apple.trackpad.enableSecondaryClick
      type: boolean
      value: 1
      state: present

# Laptop only
  - name: Show battery percentage
    osx_defaults:
      domain: com.apple.menuextra.battery
      key: ShowPercent
      type: string
      value: "YES"
      state: present

  - name: Set Clock to be digital
    osx_defaults:
      domain: com.apple.menuextra.clock
      key: IsAnalog
      type: boolean
      value: 0
      state: present

  - name: Set Clock format
    osx_defaults:
      domain: com.apple.menuextra.clock
      key: DateFormat
      type: string
      value: "EEE HH:mm"
      state: present

  - name: Flash the time separators
    osx_defaults:
      domain: com.apple.menuextra.clock
      key: FlashDateSeparators
      type: boolean
      value: 1
      state: present


  #
  ## Homebrew
  #
  - name: Install Homebrew
    command: /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    args:
      creates: /usr/local/bin/brew

  #
  ## General applications (group further? productivity, video, music)
  #

# Do we create an Ansible role for each application? Yes, it looks like it.
# DMG
# Configuration
# Templates
# Licenses
# macOS defaults

  roles:

    #- 1Password
    #- Dropbox
    #- Evernote
# Quick Look Markdown viewer
# Microsoft Office
# Google Chrome
# Avira Antivirus
    - Things
    - Arduino
    - f.lux
# Firefox
# NeoOffice
# Oversight
# HipChat
# VLC
# Handbrake
# Discord
# Android File Transfer
# SD Card Formatter

#    - synology-nas
#
## Development environments

#    - github

## General
# Microsoft Visual Code
#    - visual-studio-code

## Virtualisation/DevOps
# VirtualBox
# Vagrant
# Packer
# Terraform
# Puppet
# Docker for Mac

## Ruby
# chruby
# ruby-install

## Python

## Java

## Shell environment (ssh keys, dot configuration files)
# EC2
# SSH
# Maven
# vim

